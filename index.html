<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AppSphere - Store</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* === STYLE GLOBAL === */
        body { background-color: #0f1219; margin: 0; padding: 0; min-height: 100vh; font-family: 'Segoe UI', sans-serif; padding-bottom: 70px; }
        
        /* CONTAINER UTAMA (Agar tidak terlalu lebar di PC) */
        .main-container {
            max-width: 1100px; 
            margin: 0 auto;
            background-color: #0f1219;
            min-height: 100vh;
        }

        /* HEADER */
        .app-header { background: #181b24; padding: 15px 20px; position: sticky; top: 0; z-index: 999; border-bottom: 1px solid #232733; box-shadow: 0 4px 20px rgba(0,0,0,0.3); }
        .logo-text { font-size: 24px; font-weight: 800; color: #fff; text-decoration: none; display: flex; align-items: center; }
        .logo-text i { color: #4facfe; }
        .search-box { background: #232733; border: 1px solid #2d3240; border-radius: 50px; color: #fff; padding: 10px 20px; width: 100%; outline: none; margin-top: 15px; font-size: 14px; }
        .search-box:focus { border-color: #4facfe; background: #2a2f3d; }

        /* BANNER FIX (AGAR LOGO TIDAK KETUTUP) */
        .hero-container { padding: 20px; text-align: center; }
        .hero-banner { 
            width: auto;           /* Lebar menyesuaikan gambar */
            max-width: 100%;       /* Mentok di lebar layar HP */
            height: auto;          /* Tinggi proporsional */
            max-height: 380px;     /* Batas tinggi di Laptop biar gak raksasa */
            object-fit: contain;   /* WAJIB: Agar gambar UTUH tidak terpotong */
            border-radius: 16px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.3); 
        }

        /* CARD DESIGN (GRID KOTAK) */
        .section-title { font-size: 18px; font-weight: 700; color: #fff; margin: 25px 0 15px 10px; border-left: 4px solid #4facfe; padding-left: 10px; }
        
        .game-card {
            background: #1e222e;
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.2s;
            cursor: pointer;
            border: 1px solid #2a2f3d;
            height: 100%;
            position: relative;
        }
        .game-card:hover { transform: translateY(-5px); border-color: #4facfe; }
        
        .card-img-wrapper {
            width: 100%;
            aspect-ratio: 1/1; /* Kotak Persegi */
            overflow: hidden;
            border-bottom: 1px solid #2a2f3d;
            position: relative;
        }
        .card-img-wrapper img { width: 100%; height: 100%; object-fit: cover; transition: 0.3s; }
        .game-card:hover .card-img-wrapper img { transform: scale(1.1); }
        
        .card-body { padding: 10px 5px; text-align: center; }
        .card-title { font-size: 12px; font-weight: 600; color: #fff; margin-bottom: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .card-category { font-size: 9px; color: #8b9bb4; display: block; margin-bottom: 4px; }
        .btn-card { background: #2a2f3d; color: #4facfe; font-size: 9px; padding: 2px 8px; border-radius: 20px; border: 1px solid #4facfe; display: inline-block; font-weight: bold; }
        
        /* BADGES */
        .badge-top-left { position: absolute; top: 0; left: 0; background: #ff9f43; color: #000; font-size: 8px; padding: 2px 6px; border-bottom-right-radius: 8px; font-weight: bold; z-index: 2; }
        .badge-top-right { position: absolute; top: 0; right: 0; background: #00f2fe; color: #000; font-size: 8px; padding: 2px 6px; border-bottom-left-radius: 8px; font-weight: bold; z-index: 2; }

        /* FILTER & NAV */
        .filter-scroll { overflow-x: auto; white-space: nowrap; padding: 0 20px 10px 20px; scrollbar-width: none; } 
        .filter-scroll::-webkit-scrollbar { display: none; }
        .btn-filter { display: inline-block; padding: 6px 14px; margin-right: 6px; background: #1e222e; border: 1px solid #2a2f3d; border-radius: 12px; color: #a0aec0; font-size: 12px; cursor: pointer; }
        .btn-filter.active { background: #4facfe; color: #000; font-weight: bold; border-color: #4facfe; }
        
        .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; height: 60px; background: #181b24; border-top: 1px solid #232733; display: flex; justify-content: space-around; align-items: center; z-index: 1000; }
        .nav-item { text-align: center; color: #64748b; font-size: 10px; cursor: pointer; text-decoration: none; }
        .nav-item.active { color: #4facfe; }
        
        /* MODALS & FORM */
        .modal-content { background: #181b24; color: #fff; border: 1px solid #2a2f3d; border-radius: 16px; }
        .variant-item { background: #1e222e; border: 1px solid #2a2f3d; border-radius: 12px; padding: 10px; margin-bottom: 8px; cursor: pointer; display: flex; justify-content: space-between; }
        .variant-item.selected { border-color: #4facfe; background: rgba(79,172,254,0.1); }
        .variant-item.disabled { opacity: 0.5; cursor: not-allowed; }
        
        /* FORM INPUT WARNA TERANG */
        .form-control-dark { background-color: #0f172a !important; border: 1px solid #4facfe !important; color: #ffffff !important; }
        .form-control-dark::placeholder { color: #94a3b8 !important; opacity: 0.8; }
        .form-control-dark:focus { border-color: #00f2fe !important; box-shadow: 0 0 10px rgba(79, 172, 254, 0.3) !important; }
        
        .btn-primary-custom { background: linear-gradient(90deg, #4facfe, #00f2fe); border: none; color: #000; font-weight: bold; width: 100%; padding: 10px; border-radius: 8px; }
        .data-instant-box { background: #0d1117; border: 1px dashed #00f2fe; color: #00f2fe; padding: 15px; border-radius: 8px; font-family: monospace; font-size: 12px; word-break: break-all; margin-bottom: 10px; }
        
        /* RESPONSIVE GRID (Laptop 6 Kolom, HP 3 Kolom) */
        @media (min-width: 992px) { .col-lg-2 { width: 16.666%; } }
        @media (max-width: 768px) { .col-4 { width: 33.333%; padding: 4px; } .card-body { padding: 8px 4px; } .card-title { font-size: 10px; } .btn-card { font-size: 8px; padding: 2px 6px; } }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="app-header">
            <div class="d-flex justify-content-between align-items-center">
                <a href="index.html" class="logo-text"><i class="fas fa-cube me-2"></i>AppSphere</a>
                <a href="login.html" class="text-secondary"><i class="fas fa-user-circle fa-lg"></i></a>
            </div>
            <input type="text" id="searchInput" class="search-box" placeholder="Cari game atau aplikasi..." onkeyup="cariProduk()">
        </div>

        <div class="hero-container">
            <img src="banner.png" class="hero-banner" alt="Banner Promo" onerror="this.style.display='none'">
        </div>

        <div class="filter-scroll">
            <div class="btn-filter active" onclick="filterProduk('Semua', this)">Semua</div>
            <div class="btn-filter" onclick="filterProduk('Streaming', this)">Streaming</div>
            <div class="btn-filter" onclick="filterProduk('Editing', this)">Editing</div>
            <div class="btn-filter" onclick="filterProduk('AI Tools', this)">AI Tools</div>
            <div class="btn-filter" onclick="filterProduk('Utility', this)">Utility</div>
            <div class="btn-filter" onclick="filterProduk('Sosmed', this)">Sosmed</div>
            <div class="btn-filter" onclick="filterProduk('VPN', this)">VPN</div>
        </div>

        <div id="areaProduk" class="row g-2 px-3 pb-5"></div>
        <div id="msgKosong" class="text-center mt-5 text-secondary" style="display:none;"><i class="fas fa-ghost fa-3x mb-3"></i><p>Produk tidak ditemukan.</p></div>
    </div> 

    <div class="bottom-nav">
        <div class="nav-item" onclick="new bootstrap.Modal(document.getElementById('modalCaraOrder')).show()"><i class="fas fa-book-open"></i><span>Panduan</span></div>
        <div class="nav-item active" onclick="location.reload()"><i class="fas fa-home"></i><span>Beranda</span></div>
        <a href="testimoni.html" class="nav-item"><i class="fas fa-star"></i><span>Ulasan</span></a>
    </div>

    <div class="modal fade" id="modalVarian" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header border-0 pb-0"><h5 class="fw-bold mb-0" id="vNamaProduk">Produk</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button></div><div class="modal-body"><div id="listVarian"></div></div><div class="modal-footer d-block border-0 pt-0"><div class="d-flex justify-content-between mb-2"><small>Total:</small><span id="vTotalHarga" class="fw-bold text-primary">Rp 0</span></div><button id="btnLanjutBayar" class="btn btn-primary-custom disabled" onclick="bukaQRIS()">LANJUT BAYAR</button></div></div></div></div>

    <div class="modal fade" id="modalBayar" tabindex="-1" data-bs-backdrop="static"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header border-0"><h6 class="fw-bold mb-0">Pembayaran QRIS</h6><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button></div><div class="modal-body text-center pt-0">
        <div class="alert alert-primary py-1 px-2 d-inline-block small mb-3"><i class="fas fa-clock"></i> <span id="countdown">10:00</span></div>
        <div class="bg-white p-2 rounded mb-3 mx-auto" style="width: 180px;"><img src="qris.jpg" class="img-fluid" onerror="this.src='https://via.placeholder.com/200?text=QRIS'"></div>
        <h4 class="fw-bold text-primary mb-3" id="qTotal">Rp 0</h4>
        <div class="text-start bg-dark p-3 rounded border border-secondary">
            <div id="infoInstant" class="badge bg-info text-dark mb-2 w-100" style="display:none;"><i class="fas fa-bolt"></i> Produk Instant Delivery</div>
            <label class="small text-muted ms-1 mb-1">Nama Pembeli:</label><input type="text" id="inputNama" class="form-control form-control-dark mb-2 form-control-sm" placeholder="Masukkan Nama Kamu...">
            <label class="small text-muted ms-1 mb-1">Nomor WhatsApp:</label><input type="number" id="inputWA" class="form-control form-control-dark mb-2 form-control-sm" placeholder="Contoh: 08123456789">
            <textarea id="inputCatatan" class="form-control form-control-dark form-control-sm" rows="2" style="display:none;" placeholder="Catatan (Email/Akun)"></textarea>
        </div>
        <button onclick="tandaiLunas()" class="btn btn-primary-custom mt-3">SAYA SUDAH BAYAR</button>
    </div></div></div></div>

    <div class="modal fade" id="modalSukses" tabindex="-1" data-bs-backdrop="static"><div class="modal-dialog modal-dialog-centered"><div class="modal-content text-center p-4"><i class="fas fa-check-circle text-success mb-3" style="font-size: 50px;"></i><h5 class="fw-bold">Pesanan Dibuat!</h5><p class="small text-muted mb-3">Segera kirim bukti pembayaran.</p><div class="mb-3 text-center p-3 rounded border border-info bg-dark" onclick="triggerUpload()"><i id="iconUploadBukti" class="fas fa-cloud-upload-alt fa-lg text-info me-2"></i><span id="textUploadBukti" class="small text-info fw-bold">KLIK UNTUK UPLOAD BUKTI</span><div id="progressArea" class="progress mt-2" style="height: 5px; display: none;"><div id="progressBar" class="progress-bar bg-info" style="width: 0%"></div></div><img id="previewBukti" src="" style="max-height: 100px; display: none;" class="mx-auto d-block mt-2 rounded"></div><input type="file" id="fileBukti" class="d-none" accept="image/*"><input type="hidden" id="linkBuktiHosting"><button id="btnKirimWA" onclick="kirimWAOtomatis()" class="btn btn-success w-100 fw-bold mb-2 disabled"><i class="fab fa-whatsapp me-2"></i>KIRIM KONFIRMASI (Tunggu Upload)</button><button onclick="location.reload()" class="btn btn-outline-secondary w-100 btn-sm">Tutup</button></div></div></div>

    <div class="modal fade" id="modalInstant" tabindex="-1" data-bs-backdrop="static"><div class="modal-dialog modal-dialog-centered"><div class="modal-content text-center p-4"><i class="fas fa-bolt text-warning mb-3" style="font-size: 50px;"></i><h5 class="fw-bold">Pembayaran Dikonfirmasi!</h5><div class="data-instant-box"><span id="textDataInstant">Memuat data...</span><button onclick="copyData()" class="btn btn-sm btn-outline-info position-absolute top-0 end-0 m-1" style="font-size:10px;">Salin</button></div><div class="alert alert-warning small py-1" style="font-size: 11px;">Simpan data ini. Halaman akan hilang jika ditutup.</div><button onclick="laporAdminInstant()" class="btn btn-success w-100 fw-bold mb-2"><i class="fab fa-whatsapp me-2"></i>Lapor Admin (Selesai)</button><button onclick="location.reload()" class="btn btn-outline-secondary w-100 btn-sm">Tutup</button></div></div></div>

    <div class="modal fade" id="modalCaraOrder" tabindex="-1"><div class="modal-dialog modal-dialog-centered modal-sm"><div class="modal-content"><div class="modal-header border-0"><h6 class="fw-bold mb-0">Cara Order</h6><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button></div><div class="modal-body small pt-0"><ol class="ps-3 mb-0"><li>Pilih produk.</li><li>Isi data & Bayar QRIS.</li><li>Upload bukti (Manual) / Data Muncul (Instant).</li></ol></div></div></div></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
    
    <script>
        const IMGBB_API_KEY = "d7ec6530cf6e558c2af55e645a091e6e"; 
        const NOMOR_WA = "6283843400022";

        const firebaseConfig = {
          apiKey: "AIzaSyB-cU3n9GQiO5dyaXgLF3mwGFPZ6ACqQds",
          authDomain: "appsphere-de73d.firebaseapp.com",
          databaseURL: "https://appsphere-de73d-default-rtdb.firebaseio.com",
          projectId: "appsphere-de73d",
          storageBucket: "appsphere-de73d.firebasestorage.app",
          messagingSenderId: "610562583858",
          appId: "1:610562583858:web:7e252865c692af00783b2b",
          measurementId: "G-84ZR60FM03"
        };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const dbRef = firebase.database().ref('produk');
        let db = [];
        let produkAktif, varianPilihan, timerInterval, trxData = {};
        let modalVarianInstance, modalBayarInstance, modalSuksesInstance, modalInstantInstance;

        window.onload = () => {
            modalVarianInstance = new bootstrap.Modal(document.getElementById('modalVarian'));
            modalBayarInstance = new bootstrap.Modal(document.getElementById('modalBayar'));
            modalSuksesInstance = new bootstrap.Modal(document.getElementById('modalSukses'));
            modalInstantInstance = new bootstrap.Modal(document.getElementById('modalInstant'));
            document.getElementById('fileBukti').addEventListener('change', uploadKeImgBB);
            document.getElementById('modalSukses').addEventListener('hide.bs.modal', resetUploadStatus);
            dbRef.on('value', (s) => {
                const d = s.val(); db = [];
                if(d) Object.keys(d).forEach(k => db.push({id:k, ...d[k]}));
                render('Semua');
            });
        };

        function render(c) {
            let data = (c === 'Semua') ? db : db.filter(p => p.kat === c);
            let h = document.getElementById('areaProduk'); h.innerHTML = '';
            if(data.length === 0) { document.getElementById('msgKosong').style.display = 'block'; return; }
            document.getElementById('msgKosong').style.display = 'none';

            const groupedData = data.reduce((acc, p) => {
                const category = p.kat || 'Lainnya'; if (!acc[category]) acc[category] = []; acc[category].push(p); return acc;
            }, {});

            Object.keys(groupedData).sort().forEach(kat => {
                let icon = 'fa-cube';
                if(kat === 'Streaming') icon = 'fa-play-circle';
                else if(kat === 'Editing') icon = 'fa-pen-nib';
                else if(kat === 'AI Tools') icon = 'fa-robot';
                else if(kat === 'Utility') icon = 'fa-tools';
                else if(kat === 'Sosmed') icon = 'fa-hashtag';
                else if(kat === 'VPN') icon = 'fa-shield-alt';
                else if(kat === 'Game') icon = 'fa-gamepad';

                h.innerHTML += `<div class="col-12"><div class="section-title"><i class="fas ${icon} me-2 text-primary"></i> ${kat.toUpperCase()}</div></div>`;
                
                groupedData[kat].forEach((p) => {
                    let pr = (p.varian && p.varian.length > 0) ? p.varian[0].harga : (p.harga || 0);
                    let isHotBadge = p.isHot ? '<div class="badge-top-left">HOT ðŸ”¥</div>' : '';
                    let instantBadge = (p.tipeKirim === 'instant') ? '<div class="badge-top-right">AUTO âš¡</div>' : '';

                    h.innerHTML += `
                    <div class="col-4 col-md-2">
                        <div class="game-card" onclick="cekProduk('${p.id}')">
                            ${isHotBadge} ${instantBadge}
                            <div class="card-img-wrapper"><img src="${p.img}" onerror="this.src='https://via.placeholder.com/150'"></div>
                            <div class="card-body">
                                <div class="card-title">${p.nama}</div>
                                <span class="card-category">${p.kat}</span>
                                <div class="btn-card">Rp ${parseInt(pr).toLocaleString()}</div>
                            </div>
                        </div>
                    </div>`;
                });
            });
        }

        function filterProduk(c, el) { document.querySelectorAll('.btn-filter').forEach(b => b.classList.remove('active')); el.classList.add('active'); render(c); }
        function cariProduk() { let key = document.getElementById('searchInput').value.toLowerCase(); renderGrid(db.filter(p => p.nama.toLowerCase().includes(key))); }
        function cekProduk(id) {
            let p = db.find(item => item.id === id); produkAktif = p;
            document.getElementById('vNamaProduk').innerText = produkAktif.nama;
            let h = "";
            if(produkAktif.varian) produkAktif.varian.forEach((v, x) => {
                let stok = v.stok !== undefined ? v.stok : 99; let habis = stok <= 0;
                h += `<div class="variant-item ${habis ? 'disabled' : ''}" onclick="${habis ? '' : `pilihVarian(${x}, this)`}"><div><div class="variant-name">${v.nama}</div><div class="variant-stok ${habis ? 'text-danger' : 'text-success'}">${habis ? 'Habis' : 'Stok: '+stok}</div></div><div class="variant-price">Rp ${parseInt(v.harga).toLocaleString()}</div></div>`;
            });
            document.getElementById('listVarian').innerHTML = h; document.getElementById('vTotalHarga').innerText = "Rp 0";
            document.getElementById('btnLanjutBayar').classList.add('disabled'); modalVarianInstance.show();
        }
        function pilihVarian(x, el) {
            document.querySelectorAll('#listVarian .variant-item').forEach(e => e.classList.remove('selected')); el.classList.add('selected');
            varianPilihan = { ...produkAktif.varian[x], index: x };
            document.getElementById('vTotalHarga').innerText = "Rp " + parseInt(varianPilihan.harga).toLocaleString();
            document.getElementById('btnLanjutBayar').classList.remove('disabled');
        }
        function bukaQRIS() {
            modalVarianInstance.hide();
            document.getElementById('qTotal').innerText = "Rp " + parseInt(varianPilihan.harga).toLocaleString();
            document.getElementById('inputNama').value = ""; document.getElementById('inputWA').value = ""; document.getElementById('inputCatatan').value = "";
            let infoInstant = document.getElementById('infoInstant');
            infoInstant.style.display = (produkAktif.tipeKirim === 'instant') ? 'block' : 'none';
            document.getElementById('inputCatatan').style.display = (produkAktif.formType === 'lengkap') ? 'block' : 'none';
            let d = 600; clearInterval(timerInterval);
            timerInterval = setInterval(() => { let m = Math.floor(d/60), s = d%60; document.getElementById('countdown').innerText = `${m}:${s<10?'0':''}${s}`; if(--d < 0) { clearInterval(timerInterval); modalBayarInstance.hide(); alert('Waktu Habis'); } }, 1000);
            modalBayarInstance.show();
        }
        function tandaiLunas() {
            let n = document.getElementById('inputNama').value, w = document.getElementById('inputWA').value;
            if(!n || !w) return alert("Nama & WA Wajib!");
            firebase.database().ref(`produk/${produkAktif.id}/varian/${varianPilihan.index}/stok`).transaction((c) => (c || 0) - 1);
            clearInterval(timerInterval);
            trxData = { id: 'TRX-'+Math.floor(Math.random()*100000), produk: produkAktif.nama, varian: varianPilihan.nama, harga: "Rp "+parseInt(varianPilihan.harga).toLocaleString(), nama: n, wa: w, cat: document.getElementById('inputCatatan').value || "-" };
            modalBayarInstance.hide(); 
            if(produkAktif.tipeKirim === 'instant' && produkAktif.dataInstant) {
                document.getElementById('textDataInstant').innerText = produkAktif.dataInstant; modalInstantInstance.show();
            } else { modalSuksesInstance.show(); }
        }
        function resetUploadStatus() {
            document.getElementById('fileBukti').value = ''; document.getElementById('linkBuktiHosting').value = ''; document.getElementById('previewBukti').style.display = 'none';
            document.getElementById('textUploadBukti').innerText = "KLIK UNTUK UPLOAD BUKTI"; document.getElementById('textUploadBukti').className = "small text-info fw-bold";
            document.getElementById('iconUploadBukti').className = "fas fa-cloud-upload-alt fa-lg text-info me-2"; document.getElementById('progressArea').style.display = 'none'; document.getElementById('progressBar').style.width = '0%';
            document.getElementById('btnKirimWA').classList.add('disabled'); document.getElementById('btnKirimWA').innerHTML = '<i class="fab fa-whatsapp me-2"></i>KIRIM KONFIRMASI (Tunggu Upload)';
        }
        function triggerUpload() { document.getElementById('fileBukti').click(); }
        function uploadKeImgBB(event) {
            const file = event.target.files[0]; if (!file) return;
            const textUpload = document.getElementById('textUploadBukti'); const preview = document.getElementById('previewBukti');
            const progressArea = document.getElementById('progressArea'); const progressBar = document.getElementById('progressBar');
            const reader = new FileReader(); reader.onload = function(e){ preview.src = e.target.result; preview.style.display = 'block'; }; reader.readAsDataURL(file);
            textUpload.innerText = "â³ Sedang Mengupload..."; progressArea.style.display = 'flex'; progressBar.style.width = '50%';
            const formData = new FormData(); formData.append("image", file);
            fetch(`https://api.imgbb.com/1/upload?key=${IMGBB_API_KEY}`, { method: "POST", body: formData })
            .then(response => response.json()).then(result => {
                if (result.success) {
                    document.getElementById('linkBuktiHosting').value = result.data.url; progressBar.style.width = '100%';
                    setTimeout(() => {
                        textUpload.innerText = "âœ… UPLOAD SUKSES!"; textUpload.className = "small text-success fw-bold";
                        document.getElementById('iconUploadBukti').className = "fas fa-check-circle fa-lg text-success me-2";
                        document.getElementById('btnKirimWA').classList.remove('disabled');
                        document.getElementById('btnKirimWA').innerHTML = '<i class="fab fa-whatsapp me-2"></i>KIRIM KONFIRMASI SEKARANG';
                        progressBar.classList.remove('bg-info'); progressBar.classList.add('bg-success');
                    }, 500);
                } else { alert("Gagal Upload: " + result.error.message); }
            }).catch(error => { alert("Error koneksi ImgBB."); });
        }
        function kirimWAOtomatis() {
            let linkGambar = document.getElementById('linkBuktiHosting').value; if (!linkGambar) return alert("Harap tunggu sampai proses upload selesai!");
            let t = `Halo Admin, saya order via Web.%0A%0A*ID:* ${trxData.id}%0A*Nama:* ${trxData.nama}%0A*Item:* ${trxData.produk}%0A*Varian:* ${trxData.varian}%0A*Total:* ${trxData.harga}%0A*Catatan:* ${trxData.cat}%0A%0A*Bukti Transfer:*%0A${linkGambar}`;
            window.open(`https://wa.me/${NOMOR_WA}?text=${t}`, '_blank');
        }
        function laporAdminInstant() {
            let t = `Halo Admin, saya sudah ambil produk *INSTANT DELIVERY* via Web.%0A%0A*ID:* ${trxData.id}%0A*Nama:* ${trxData.nama}%0A*Item:* ${trxData.produk}%0A*Varian:* ${trxData.varian}%0A*Total:* ${trxData.harga}%0A%0A*Status:* âœ… Sukses Ambil Data`;
            window.open(`https://wa.me/${NOMOR_WA}?text=${t}`, '_blank');
        }
        function copyData() { navigator.clipboard.writeText(document.getElementById('textDataInstant').innerText).then(() => alert("Data tersalin!")); }
    </script>
</body>
</html>
